<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ²‰æµ¸å†™ä½œ Â· æ„ç­‘å®‡å®™</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --bg-dark: #0a0a0a;
            --text-primary: #ffffff;
            --text-secondary: rgba(255,255,255,0.7);
            --card-bg: rgba(255,255,255,0.03);
            --card-border: rgba(255,255,255,0.1);
            --sidebar-width: 260px;
            --reference-width: 280px;
            --toolbar-height: 50px;
            --status-height: 36px;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            overflow: hidden;
            height: 100vh;
        }

        /* æ˜Ÿç©ºèƒŒæ™¯ - æ›´æ·¡ */
        .stars {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }

        .star {
            position: absolute;
            width: 1px; height: 1px;
            background: white;
            border-radius: 50%;
            animation: twinkle 4s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.6; }
        }

        /* å¯¼èˆªæ  */
        nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            z-index: 1000;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--card-border);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo {
            font-size: 16px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-divider {
            width: 1px;
            height: 20px;
            background: var(--card-border);
        }

        .doc-title {
            font-size: 14px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .doc-title input {
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 14px;
            padding: 4px 8px;
            border-radius: 4px;
            min-width: 200px;
        }

        .doc-title input:focus {
            outline: none;
            background: rgba(255,255,255,0.05);
        }

        .save-status {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .nav-btn {
            padding: 6px 12px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 6px;
            color: var(--text-secondary);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .nav-btn:hover {
            background: rgba(255,255,255,0.05);
            color: var(--text-primary);
        }

        .nav-btn.primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-color: transparent;
            color: white;
        }

        .nav-btn.primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        /* ä¸»ç¼–è¾‘åŒºå¸ƒå±€ */
        .editor-layout {
            display: flex;
            height: calc(100vh - 50px);
            margin-top: 50px;
        }

        /* å·¦ä¾§é¢æ¿ - ç« èŠ‚ç›®å½• */
        .left-panel {
            width: var(--sidebar-width);
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(10px);
            border-right: 1px solid var(--card-border);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .left-panel.collapsed {
            transform: translateX(-100%);
            width: 0;
        }

        .panel-header {
            padding: 16px;
            border-bottom: 1px solid var(--card-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-title {
            font-size: 14px;
            font-weight: 600;
        }

        .panel-actions {
            display: flex;
            gap: 4px;
        }

        .icon-btn {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: all 0.2s ease;
        }

        .icon-btn:hover {
            background: rgba(255,255,255,0.05);
            color: var(--text-primary);
        }

        .panel-content {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }

        /* ç›®å½•æ ‘ */
        .outline-tree {
            list-style: none;
        }

        .outline-item {
            margin-bottom: 2px;
        }

        .outline-node {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 13px;
        }

        .outline-node:hover {
            background: rgba(255,255,255,0.05);
        }

        .outline-node.active {
            background: rgba(102, 126, 234, 0.15);
        }

        .outline-node .toggle {
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 10px;
        }

        .outline-node .icon {
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .outline-node .text {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .outline-node .count {
            font-size: 11px;
            color: var(--text-secondary);
        }

        .outline-children {
            margin-left: 20px;
            border-left: 1px solid var(--card-border);
            padding-left: 8px;
        }

        .outline-children.collapsed {
            display: none;
        }

        /* ç¼–è¾‘å™¨ä¸»ä½“ */
        .editor-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--bg-dark);
            position: relative;
        }

        .editor-toolbar {
            height: var(--toolbar-height);
            background: rgba(0,0,0,0.5);
            border-bottom: 1px solid var(--card-border);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            padding: 0 16px;
        }

        .toolbar-group {
            display: flex;
            gap: 2px;
            padding: 0 8px;
            border-right: 1px solid var(--card-border);
        }

        .toolbar-group:last-child {
            border-right: none;
        }

        .toolbar-btn {
            width: 32px;
            height: 32px;
            border-radius: 4px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .toolbar-btn:hover {
            background: rgba(255,255,255,0.05);
            color: var(--text-primary);
        }

        .toolbar-btn.active {
            background: rgba(102, 126, 234, 0.2);
            color: var(--primary);
        }

        .toolbar-btn .icon {
            font-size: 14px;
        }

        /* ç¼–è¾‘å™¨å†…å®¹åŒº */
        .editor-content {
            flex: 1;
            overflow-y: auto;
            padding: 40px 60px;
        }

        .editor-scroller {
            max-width: 800px;
            margin: 0 auto;
        }

        /* æ ‡é¢˜è¾“å…¥ */
        .chapter-title-input {
            width: 100%;
            background: transparent;
            border: none;
            font-size: 32px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            padding: 0;
            font-family: inherit;
        }

        .chapter-title-input:focus {
            outline: none;
        }

        .chapter-title-input::placeholder {
            color: rgba(255,255,255,0.3);
        }

        .chapter-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--card-border);
        }

        /* å¯Œæ–‡æœ¬ç¼–è¾‘åŒº */
        .editor-textarea {
            min-height: 500px;
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-primary);
            outline: none;
        }

        .editor-textarea p {
            margin-bottom: 1.2em;
        }

        .editor-textarea p:last-child {
            margin-bottom: 0;
        }

        /* çŠ¶æ€æ  */
        .editor-statusbar {
            height: var(--status-height);
            background: rgba(0,0,0,0.7);
            border-top: 1px solid var(--card-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .status-left {
            display: flex;
            gap: 20px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-item .value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .status-right {
            display: flex;
            gap: 16px;
        }

        .status-btn {
            padding: 4px 10px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 4px;
            color: var(--text-secondary);
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .status-btn:hover {
            background: rgba(255,255,255,0.05);
            color: var(--text-primary);
        }

        /* å³ä¾§é¢æ¿ - è®¾å®šå‚è€ƒ */
        .right-panel {
            width: var(--reference-width);
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(10px);
            border-left: 1px solid var(--card-border);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .right-panel.collapsed {
            transform: translateX(100%);
            width: 0;
        }

        .reference-tabs {
            display: flex;
            border-bottom: 1px solid var(--card-border);
        }

        .ref-tab {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .ref-tab:hover {
            color: var(--text-primary);
            background: rgba(255,255,255,0.03);
        }

        .ref-tab.active {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
            margin-bottom: -1px;
        }

        .ref-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .ref-section {
            display: none;
        }

        .ref-section.active {
            display: block;
        }

        .ref-item {
            padding: 12px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .ref-item:hover {
            background: rgba(255,255,255,0.05);
            border-color: rgba(255,255,255,0.2);
        }

        .ref-item-title {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ref-item-desc {
            font-size: 11px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .ref-tag {
            display: inline-block;
            padding: 2px 6px;
            background: rgba(102, 126, 234, 0.15);
            border-radius: 4px;
            font-size: 10px;
            color: var(--primary);
            margin-left: auto;
        }

        /* å“åº”å¼ */
        @media (max-width: 1200px) {
            .right-panel {
                position: fixed;
                right: 0;
                top: 50px;
                bottom: 0;
                z-index: 100;
                transform: translateX(100%);
            }
            
            .right-panel.open {
                transform: translateX(0);
            }
        }

        @media (max-width: 768px) {
            .left-panel {
                position: fixed;
                left: 0;
                top: 50px;
                bottom: 0;
                z-index: 100;
                transform: translateX(-100%);
            }
            
            .left-panel.open {
                transform: translateX(0);
            }
            
            .editor-content {
                padding: 20px;
            }
            
            .chapter-title-input {
                font-size: 24px;
            }
        }

        /* å…¨å±æ¨¡å¼ */
        body.fullscreen nav,
        body.fullscreen .left-panel,
        body.fullscreen .right-panel,
        body.fullscreen .editor-statusbar {
            display: none;
        }

        body.fullscreen .editor-layout {
            height: 100vh;
            margin-top: 0;
        }

        body.fullscreen .editor-content {
            padding-top: 60px;
        }

        /* é€€å‡ºå…¨å±æŒ‰é’® */
        .exit-fullscreen {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            display: none;
        }

        body.fullscreen .exit-fullscreen {
            display: block;
        }
    </style>
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <div class="stars" id="stars"></div>

    <!-- é€€å‡ºå…¨å±æŒ‰é’® -->
    <button class="exit-fullscreen btn btn-secondary" onclick="toggleFullscreen()">é€€å‡ºå…¨å±</button>

    <!-- å¯¼èˆªæ  -->
    <nav>
        <div class="nav-left">
            <div class="logo">âœ¨ æ„ç­‘å®‡å®™</div>
            <div class="nav-divider"></div>
            <div class="doc-title">
                <input type="text" value="ç¬¬ä¸€ç« ï¼šè¾¹å¢ƒå°é•‡çš„å°‘å¹´" placeholder="è¾“å…¥ç« èŠ‚æ ‡é¢˜...">
            </div>
            <span class="save-status">å·²ä¿å­˜</span>
        </div>
        <div class="nav-right">
            <button class="nav-btn" onclick="toggleLeftPanel()">ğŸ“‘ ç›®å½•</button>
            <button class="nav-btn" onclick="toggleRightPanel()">ğŸ“š å‚è€ƒ</button>
            <button class="nav-btn" onclick="toggleFullscreen()">ğŸ–¥ï¸ å…¨å±</button>
            <button class="nav-btn primary">âœï¸ å¼€å§‹å†™ä½œ</button>
        </div>
    </nav>

    <!-- ä¸»ç¼–è¾‘åŒº -->
    <div class="editor-layout">
        <!-- å·¦ä¾§é¢æ¿ - ç« èŠ‚ç›®å½• -->
        <aside class="left-panel" id="leftPanel">
            <div class="panel-header">
                <span class="panel-title">ğŸ“‘ ç« èŠ‚ç›®å½•</span>
                <div class="panel-actions">
                    <button class="icon-btn" title="æŠ˜å å…¨éƒ¨">â¬…ï¸</button>
                    <button class="icon-btn" title="æ–°å»ºç« èŠ‚">â•</button>
                </div>
            </div>
            <div class="panel-content">
                <ul class="outline-tree">
                    <li class="outline-item">
                        <div class="outline-node active">
                            <span class="toggle">â–¼</span>
                            <span class="text">ç¬¬ä¸€ç« ï¼šè¾¹å¢ƒå°é•‡çš„å°‘å¹´</span>
                            <span class="count">3,500 å­—</span>
                        </div>
                        <ul class="outline-children">
                            <li class="outline-item">
                                <div class="outline-node">
                                    <span class="toggle" style="visibility: hidden;">â–¼</span>
                                    <span class="text">1. å¹³å‡¡çš„æ—¥å¸¸</span>
                                    <span class="count">1,800 å­—</span>
                                </div>
                            </li>
                            <li class="outline-item">
                                <div class="outline-node">
                                    <span class="toggle" style="visibility: hidden;">â–¼</span>
                                    <span class="text">2. å¼‚å˜åˆç°</span>
                                    <span class="count">1,700 å­—</span>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li class="outline-item">
                        <div class="outline-node">
                            <span class="toggle">â–¶</span>
                            <span class="text">ç¬¬äºŒç« ï¼šè§‰é†’çš„å¾å…†</span>
                            <span class="count">0 å­—</span>
                        </div>
                    </li>
                    <li class="outline-item">
                        <div class="outline-node">
                            <span class="toggle">â–¶</span>
                            <span class="text">ç¬¬ä¸‰ç« ï¼šè¸ä¸Šæ—…é€”</span>
                            <span class="count">0 å­—</span>
                        </div>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- ç¼–è¾‘å™¨ä¸»ä½“ -->
        <main class="editor-main">
            <!-- å·¥å…·æ  -->
            <div class="editor-toolbar">
                <div class="toolbar-group">
                    <button class="toolbar-btn" title="åŠ ç²—"><b>B</b></button>
                    <button class="toolbar-btn" title="æ–œä½“"><i>I</i></button>
                    <button class="toolbar-btn" title="ä¸‹åˆ’çº¿"><u>U</u></button>
                    <button class="toolbar-btn" title="åˆ é™¤çº¿"><s>S</s></button>
                </div>
                <div class="toolbar-group">
                    <button class="toolbar-btn" title="æ ‡é¢˜">H</button>
                    <button class="toolbar-btn" title="å¼•ç”¨">â</button>
                    <button class="toolbar-btn" title="ä»£ç ">&lt;/&gt;</button>
                </div>
                <div class="toolbar-group">
                    <button class="toolbar-btn" title="æ— åºåˆ—è¡¨">â€¢</button>
                    <button class="toolbar-btn" title="æœ‰åºåˆ—è¡¨">1.</button>
                    <button class="toolbar-btn" title="å¾…åŠäº‹é¡¹">â˜</button>
                </div>
                <div class="toolbar-group">
                    <button class="toolbar-btn" title="æ’å…¥é“¾æ¥">ğŸ”—</button>
                    <button class="toolbar-btn" title="æ’å…¥å›¾ç‰‡">ğŸ–¼ï¸</button>
                    <button class="toolbar-btn" title="æ’å…¥è¡¨æ ¼">âŠ</button>
                </div>
            </div>

            <!-- ç¼–è¾‘å†…å®¹åŒº -->
            <div class="editor-content" id="editorContent">
                <div class="editor-scroller">
                    <input type="text" class="chapter-title-input" value="ç¬¬ä¸€ç« ï¼šè¾¹å¢ƒå°é•‡çš„å°‘å¹´" placeholder="è¾“å…¥ç« èŠ‚æ ‡é¢˜...">
                    <div class="chapter-subtitle">
                        ç¬¬ 1 ç«  Â· çº¦ 3,500 å­— Â· æœ€åç¼–è¾‘äº 2 åˆ†é’Ÿå‰
                    </div>
                    <div class="editor-textarea" contenteditable="true" id="editorTextarea">
                        <p>å¤•é˜³çš„ä½™æ™–æ´’åœ¨è¾¹å¢ƒå°é•‡çš„çŸ³æ¿è·¯ä¸Šï¼Œç»™è¿™åº§è¾¹é™²ä¹‹åœ°é•€ä¸Šäº†ä¸€å±‚æ¸©æš–çš„é‡‘è‰²ã€‚</p>
                        <p>è‰¾ç‘æ©ååœ¨é•‡å£çš„è€æ©¡æ ‘ä¸‹ï¼Œæ‰‹ä¸­æ§ç€ä¸€æœ¬ç ´æ—§çš„é­”æ³•ç†è®ºä¹¦ã€‚è™½ç„¶ä»–å·²ç»ç¿»çœ‹äº†æ— æ•°éï¼Œä½†é‚£äº›å¤æ‚çš„ç¬¦æ–‡å’Œå…¬å¼å¯¹ä»–æ¥è¯´ä¾ç„¶å¦‚åŒå¤©ä¹¦ã€‚</p>
                        <p>"åˆåœ¨çœ‹è¿™ä¸ªï¼Ÿ"ä¸€ä¸ªç†Ÿæ‚‰çš„å£°éŸ³ä»èº«åä¼ æ¥ã€‚</p>
                        <p>è‰¾ç‘æ©å›å¤´ï¼Œçœ‹åˆ°ä»–çš„å¥½å‹å¡å°”æ­£æç€ä¸€ä¸ªæœ¨æ¡¶èµ°æ¥ã€‚å¡å°”æ˜¯é•‡ä¸Šé“åŒ çš„å„¿å­ï¼Œèº«æé­æ¢§ï¼Œçš®è‚¤å› å¸¸å¹´åœ¨ç‚‰ç«æ—å·¥ä½œè€Œæ˜¾å¾—é»é»‘ã€‚</p>
                        <p>"åæ­£é—²ç€ä¹Ÿæ˜¯é—²ç€ã€‚"è‰¾ç‘æ©åˆä¸Šä¹¦ï¼Œéœ²å‡ºä¸€ä¸ªæ— å¥ˆçš„ç¬‘å®¹ï¼Œ"ä½ çŸ¥é“çš„ï¼Œæˆ‘ä¸€ç›´æƒ³æˆä¸ºä¸€åæ³•å¸ˆã€‚"</p>
                        <p>å¡å°”æ”¾ä¸‹æœ¨æ¡¶ï¼Œåœ¨è‰¾ç‘æ©èº«è¾¹åä¸‹ï¼Œä»°å¤´çŒäº†ä¸€å£æ°´ï¼š"æ¢¦æƒ³æ˜¯å¥½äº‹ï¼Œè‰¾ç‘æ©ã€‚ä½†æ˜¯......"ä»–é¡¿äº†é¡¿ï¼Œ"ä½ å¾—é¢å¯¹ç°å®ã€‚æˆ‘ä»¬æ²¡æœ‰é­”æ³•å¤©èµ‹ï¼Œè¿™è¾ˆå­éƒ½ä¸å¯èƒ½æˆä¸ºæ³•å¸ˆã€‚"</p>
                        <p>è‰¾ç‘æ©æ²‰é»˜åœ°çœ‹ç€è¿œæ–¹ã€‚ä»–çŸ¥é“å¡å°”è¯´çš„æ˜¯å®è¯ã€‚åœ¨è¿™ä¸ªä¸–ç•Œï¼Œé­”æ³•æ˜¯ä¸€ç§å¤©èµ‹ï¼Œæ˜¯ä¸ç”Ÿä¿±æ¥çš„èƒ½åŠ›ã€‚æ²¡æœ‰è¿™ç§å¤©èµ‹çš„äººï¼Œæ— è®ºå¤šä¹ˆåŠªåŠ›ï¼Œéƒ½æ— æ³•æ–½å±•çœŸæ­£çš„é­”æ³•ã€‚</p>
                        <p>ä½†è‰¾ç‘æ©ä¸ç”˜å¿ƒã€‚</p>
                    </div>
                </div>
            </div>

            <!-- çŠ¶æ€æ  -->
            <div class="editor-statusbar">
                <div class="status-left">
                    <div class="status-item">
                        <span>å­—æ•°ï¼š</span>
                        <span class="value" id="wordCount">3,520</span>
                    </div>
                    <div class="status-item">
                        <span>å­—ç¬¦ï¼š</span>
                        <span class="value">4,180</span>
                    </div>
                    <div class="status-item">
                        <span>é˜…è¯»æ—¶é—´ï¼š</span>
                        <span class="value">çº¦ 14 åˆ†é’Ÿ</span>
                    </div>
                </div>
                <div class="status-right">
                    <button class="status-btn" onclick="toggleLeftPanel()">ğŸ“‘ ç›®å½•</button>
                    <button class="status-btn" onclick="toggleRightPanel()">ğŸ“š å‚è€ƒ</button>
                    <button class="status-btn" onclick="toggleFullscreen()">ğŸ–¥ï¸ å…¨å±</button>
                </div>
            </div>
        </main>

        <!-- å³ä¾§é¢æ¿ - è®¾å®šå‚è€ƒ -->
        <aside class="right-panel" id="rightPanel">
            <div class="reference-tabs">
                <button class="ref-tab active" data-tab="characters">ğŸ‘¤ äººç‰©</button>
                <button class="ref-tab" data-tab="world">ğŸŒ ä¸–ç•Œ</button>
                <button class="ref-tab" data-tab="notes">ğŸ“ ç¬”è®°</button>
            </div>
            <div class="ref-content">
                <!-- äººç‰© Tab -->
                <div class="ref-section active" id="ref-characters">
                    <div class="ref-item">
                        <div class="ref-item-title">
                            ğŸ§™â€â™‚ï¸ è‰¾ç‘æ©Â·æ˜Ÿè¯­
                            <span class="ref-tag">ä¸»è§’</span>
                        </div>
                        <div class="ref-item-desc">
                            æ¥è‡ªè¾¹ç¼˜æ˜ŸåŸŸçš„å¹´è½»æ³•å¸ˆï¼Œæ‹¥æœ‰ç½•è§çš„æ˜Ÿç•Œæ„ŸçŸ¥èƒ½åŠ›ã€‚æ€§æ ¼å†…æ•›ä½†æ„å¿—åšå®šã€‚
                        </div>
                    </div>
                    <div class="ref-item">
                        <div class="ref-item-title">
                            âš”ï¸ å‡¯æ‹‰Â·é“å¿ƒ
                            <span class="ref-tag">æŠ¤å«</span>
                        </div>
                        <div class="ref-item-desc">
                            å‰æ˜Ÿé™…ä½£å…µï¼Œå®æˆ˜ç»éªŒä¸°å¯Œï¼Œæ“…é•¿è¿‘èº«æ ¼æ–—ä¸æˆ˜æœ¯è§„åˆ’ã€‚
                        </div>
                    </div>
                    <div class="ref-item">
                        <div class="ref-item-title">
                            ğŸ”§ å¡å°”
                            <span class="ref-tag">å¥½å‹</span>
                        </div>
                        <div class="ref-item-desc">
                            é“åŒ çš„å„¿å­ï¼Œè‰¾ç‘æ©çš„é’æ¢…ç«¹é©¬ã€‚ç°å®ä¸»ä¹‰è€…ï¼Œç»å¸¸æ³¼å†·æ°´ä½†çœŸå¿ƒå…³å¿ƒæœ‹å‹ã€‚
                        </div>
                    </div>
                </div>

                <!-- ä¸–ç•Œ Tab -->
                <div class="ref-section" id="ref-world">
                    <div class="ref-item">
                        <div class="ref-item-title">
                            ğŸ›ï¸ æ˜Ÿç•Œè®®ä¼š
                            <span class="ref-tag">åŠ¿åŠ›</span>
                        </div>
                        <div class="ref-item-desc">
                            ç»Ÿæ²»å·²çŸ¥æ˜ŸåŸŸçš„è‡³é«˜æƒåŠ›æœºæ„ï¼Œç”±ä¸ƒå¤§æ˜Ÿç³»ä»£è¡¨ç»„æˆã€‚
                        </div>
                    </div>
                    <div class="ref-item">
                        <div class="ref-item-title">
                            âœ¨ æ˜Ÿç•Œå…±é¸£
                            <span class="ref-tag">é­”æ³•</span>
                        </div>
                        <div class="ref-item-desc">
                            æ‰€æœ‰é­”æ³•éƒ½æºäºæ˜Ÿç•Œèƒ½é‡çš„å…±é¸£ï¼Œæ–½æ³•è€…é€šè¿‡ä¸ç‰¹å®šæ˜Ÿåº§å»ºç«‹ç²¾ç¥é“¾æ¥æ¥å¼•å¯¼èƒ½é‡ã€‚
                        </div>
                    </div>
                </div>

                <!-- ç¬”è®° Tab -->
                <div class="ref-section" id="ref-notes">
                    <div class="ref-item">
                        <div class="ref-item-title">
                            ğŸ“ å¾…è¡¥å……
                        </div>
                        <div class="ref-item-desc">
                            éœ€è¦è¯¦ç»†æå†™è‰¾ç‘æ©è§‰é†’æ—¶çš„æ„Ÿå—ï¼Œä»¥åŠæ˜Ÿç•Œèƒ½é‡çš„å…·ä½“è¡¨ç°ã€‚
                        </div>
                    </div>
                    <div class="ref-item">
                        <div class="ref-item-title">
                            ğŸ’¡ çµæ„Ÿ
                        </div>
                        <div class="ref-item-desc">
                            å¯ä»¥è€ƒè™‘åŠ å…¥ä¸€ä¸ªç¥ç§˜å¯¼å¸ˆè§’è‰²ï¼Œåœ¨å…³é”®æ—¶åˆ»ç»™äºˆæŒ‡å¼•ã€‚
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        // ç”Ÿæˆæ˜Ÿç©º
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 150; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 4 + 's';
            star.style.opacity = Math.random() * 0.4 + 0.1;
            starsContainer.appendChild(star);
        }

        // å­—æ•°ç»Ÿè®¡
        function updateWordCount() {
            const textarea = document.getElementById('editorTextarea');
            const text = textarea.innerText || '';
            const count = text.length;
            document.getElementById('wordCount').textContent = count.toLocaleString();
        }

        // ç›‘å¬è¾“å…¥
        document.getElementById('editorTextarea').addEventListener('input', updateWordCount);

        // é¢æ¿åˆ‡æ¢
        function toggleLeftPanel() {
            document.getElementById('leftPanel').classList.toggle('collapsed');
        }

        function toggleRightPanel() {
            document.getElementById('rightPanel').classList.toggle('collapsed');
        }

        // å…¨å±æ¨¡å¼
        function toggleFullscreen() {
            document.body.classList.toggle('fullscreen');
        }

        // å‚è€ƒé¢æ¿ Tab åˆ‡æ¢
        document.querySelectorAll('.ref-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // æ›´æ–° Tab çŠ¶æ€
                document.querySelectorAll('.ref-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                // æ˜¾ç¤ºå¯¹åº”å†…å®¹
                const tabName = tab.dataset.tab;
                document.querySelectorAll('.ref-section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById('ref-' + tabName).classList.add('active');
            });
        });

        // ç›®å½•æ ‘èŠ‚ç‚¹åˆ‡æ¢
        document.querySelectorAll('.outline-node').forEach(node => {
            node.addEventListener('click', () => {
                document.querySelectorAll('.outline-node').forEach(n => n.classList.remove('active'));
                node.classList.add('active');
            });
        });

        // å·¥å…·æ æŒ‰é’®
        document.querySelectorAll('.toolbar-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                btn.classList.toggle('active');
            });
        });
    </script>
</body>
</html>
